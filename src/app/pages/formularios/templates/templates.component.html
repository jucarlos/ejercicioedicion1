<div>
    <div class="row mt-3">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">Formularios en HTML - Template</div>
        <div class="card-body">
          <form
            class="needs-validation"
            novalidate
            autocomplete="off"
            (ngSubmit)="guardar(formulario)"
            #formulario="ngForm"
          >
            <div class="mb-3">
              <label for="inputNombre">Nombre</label>
              <input
                type="text"
                class="form-control"
                id="inputNombre"
                [ngModel]="usuario.nombre"
                name="nombre"
                required
                minlength="5"
                [ngClass]="{
                  'is-invalid': nombre.invalid && nombre.touched,
                  'is-valid': nombre.valid
                }"
                #nombre="ngModel"
              />
              <div class="invalid-feedback" 
              *ngIf="nombre.errors?.required">
                <small>El nombre es requerido</small>
              </div>
              <div class="invalid-feedback" 
              *ngIf="nombre.errors?.minlength">
                <small
                  >El nombre tiene que tener al menos
                  {{ nombre.errors.minlength.requiredLength }} caracteres</small
                >
              </div>
            </div>
  
            <div class="mb-3">
              <label for="imputEmail">Email</label>
              <input
                type="email"
                class="form-control"
                id="imputEmail"
                [ngModel]="usuario.email"
                name="email"
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                required
                [ngClass]="{
                  'is-invalid': email.invalid && email.touched,
                  'is-valid': email.valid
                }"
                #email="ngModel"
              />
              <div class="invalid-feedback" *ngIf="email.errors?.required">
                <small>El email es requerido</small>
              </div>
              <div class="invalid-feedback" *ngIf="email.errors?.pattern">
                <small>El correo tiene que tener un formato válido</small>
              </div>
            </div>
  
            <div class="mb-3">
              <label>Provincia</label>
              <select
                name="provincia"
                [disabled]="provincias.length === 0"
                (change)="cambiaProvincia($event.target.value)"
                [(ngModel)]="usuario.provincia"
                [ngClass]="{
                  'is-invalid': provincia.value === 0 && provincia.touched,
                  'is-valid': provincia.value > 0
                }"
                required
                #provincia="ngModel"
                class="form-control"
                id="exampleFormControlSelect1"
              >
                <option value="0">Seleccione una provincia</option>
                <option *ngFor="let pro of provincias" [value]="pro.codigo">
                  {{ pro.nombre }}
                </option>
              </select>
            </div>
  
            <div class="mb-3">
              <label>Localidad</label>
              <select
                name="localidad"
                [disabled]="localidadesFiltro.length === 0"
                [(ngModel)]="usuario.localidad"
                class="form-control"
                [ngClass]="{
                  'is-invalid': localidad.value === 0 && localidad.touched,
                  'is-valid': localidad.value > 0
                }"
                required
                #localidad="ngModel"
              >
                <option value="0">Seleccione una localidad</option>
                <option *ngFor="let lo of localidadesFiltro" [value]="lo.codigo">
                  {{ lo.nombre }}
                </option>
              </select>
            </div>
  
            <div class="mb-3">
              <label>Género</label>
              <br />
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  name="genero"
                  [class.is-invalid]="genero.invalid && genero.touched"
                  [ngModel]="usuario.genero"
                  id="inlineRadio1"
                  value="M"
                  #genero="ngModel"
                />
                <label class="form-check-label" for="inlineRadio1"
                  >Masculino</label
                >
              </div>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  name="genero"
                  [class.is-invalid]="genero.invalid && genero.touched"
                  [ngModel]="usuario.genero"
                  required
                  id="inlineRadio2"
                  value="F"
                  #genero="ngModel"
                />
                <label class="form-check-label" for="inlineRadio2"
                  >Femenino</label
                >
              </div>
            
            </div>
            
  
            <div class="mb-3 form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="recuerdame"
                [ngModel]="usuario.recuerdame"
                name="recuerdame"
              />
              <label class="form-check-label" for="recuerdame">Recuerdame</label>
            </div>
  
            <!-- [disabled]="formulario.invalid" -->
  
            <button type="submit" class="btn btn-primary">Validar</button>
          </form>
  
          Estado de la validación del formulario: {{ formulario.valid }}
        </div>
      </div>
    </div>
  </div>
  </div>